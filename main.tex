\documentclass[12pt,a4paper,boxed,titlepage]{caspset}

% set 1-inch margins in the document
%\usepackage[left=1in,right=1in,top=1.2in,bottom=1in]{geometry}
\usepackage[left=1in,right=1in,top=1.2in,bottom=1in]{geometry}
\usepackage{lastpage}

% include this if you want to import graphics files with /includegraphics
\usepackage{multicol} 
\usepackage{capt-of}%%To get the caption
\usepackage{graphicx}
\usepackage{lscape}
\usepackage{amsmath,amsfonts,amsthm,amssymb}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{extramarks}
\usepackage{chngpage}
\usepackage{soul}
\usepackage[usenames,dvipsnames]{color}
\usepackage{graphicx,float,wrapfig}
\usepackage{ifthen}
\usepackage{listings}
\usepackage{courier}
\usepackage{multimedia}
\usepackage[toc,page,title,titletoc,header]{appendix}
\usepackage{color, soul}
\usepackage{tikz}
\usepackage{array}
\usepackage{multirow}
\usepackage{todonotes}
\usepackage{pdfpages}
\usepackage{attachfile2}
\usepackage{pgfplots}
\usetikzlibrary{%
    decorations.pathreplacing,%
    decorations.pathmorphing,arrows
}
\usetikzlibrary{calc}
\usepgfplotslibrary{polar}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xeCJK}
%\usepackage{fontspec}
\setCJKmainfont[BoldFont=simhei.ttf]{simsun.ttf}
%\setCJKsansfont{simhei.ttf}
%\setCJKmonofont{simfang.ttf}

%\setCJKmainfont{Adobe Song Std}
%\setCJKmainfont[BoldFont=Adobe Heiti Std]{Adobe Song Std}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\graphicspath{{figures/}}

\setulcolor{red}

\setlength{\marginparwidth}{1in}

\newcommand{\hmwkTitle}{流体力学导论}
%\newcommand{\hmwkSubTitle}{} % No subtitle, so this will be excluded
\newcommand{\hmwkDueDate}{\today}
\newcommand{\hmwkClass}{物理学院}
\newcommand{\hmwkClassTime}{Mon./Wed.{~}13:30}
\newcommand{\hmwkClassInstructor}{王智慧}
\newcommand{\hmwkAuthorName}{周吕文}

\hypersetup{pdfauthor={\hmwkAuthorName}, 
            pdftitle={流体力学导论作业整理}, 
            pdfsubject={\hmwkTitle, \hmwkClassInstructor},
            pdfkeywords={流体力学},
            pdfproducer={XeLateX with hyperref},
            pdfcreator={Xelatex}}


%% Setup the header and footer
\pagestyle{fancy}                                                       %
\lhead{\hmwkAuthorName}                                                 %
\chead{\hmwkClass\ (\hmwkClassInstructor): \hmwkTitle}  %
\rhead{第\ \thepage\ 页, 共\ \protect\pageref{LastPage} 页}          %



\makeatletter
\newcommand{\rmnum}[1]{\romannumeral #1}
\newcommand{\Rmnum}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother

\renewcommand\refname{\bf\large 参考文献}
\renewcommand\contentsname{\bf 目 \ \ \ 录}
\renewcommand\figurename{\bf 图}
\renewcommand\tablename{\bf 表}
\renewcommand{\appendixtocname}{附录}
\renewcommand{\appendixpagename}{附录}
\renewcommand\listfigurename{图目录}

% info for header block in upper right hand corner
%\name{周吕文{~}201128000718065}
%\class{物理学院{~}20110308班}
%\assignment{习题整理}
%\duedate{06/14/2014}

\newcommand\invisiblesection[1]{%
  \refstepcounter{section}%
  \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}%
  \sectionmark{#1}}

\newcommand\invisiblesubsection[1]{%
  \refstepcounter{subsection}%
  \addcontentsline{toc}{subsection}{\protect\numberline{\thesubsection}#1}%
  \subsectionmark{#1}}


\newcommand{\matlabscript}[2]
{\definecolor{MyDarkGreen}{rgb}{0.0,0.3,0.0}
\definecolor{hellgelb}{rgb}{0.96,0.96,0.96}
\definecolor{DarkPurple}{rgb}{0.6,0,0.4}
    \lstset{%
       language=Matlab,                        % Use MATLAB
        frame=single,                           % Single frame around code
        basicstyle=\footnotesize\ttfamily,    
        keywordstyle=[1]\color{blue}, 
        keywordstyle=[2]\color{DarkPurple}, 
        keywordstyle=[3]\color{blue}\underbar, 
        identifierstyle=,  
        commentstyle=\color{MyDarkGreen}\footnotesize,
        stringstyle=\color{DarkPurple}, 
        showstringspaces=false,            
        tabsize=5,     
        morekeywords={xlim,ylim,var,alpha,factorial,poissrnd,normpdf,normcdf},
        morekeywords=[2]{on, off, interp},
        morecomment=[l][\color{blue}]{...},    
     columns=fixed,
     tabsize=4,%
     frame=single,%
     framerule=1pt,
     extendedchars=true,%
     showspaces=false,%
     showstringspaces=false,%
     numbers=left,%
     numberstyle=\tiny\ttfamily,%
     numbersep=1em,%
     breaklines=true,%
     breakindent=10pt,%
     backgroundcolor=\color{hellgelb},%
     breakautoindent=true,%
     captionpos=t,%
     xleftmargin=1em,%
     xrightmargin=\fboxsep%
    }
\lstinputlisting[caption=#2,label=#1]{#1.m}}


\begin{document}
\title{流体力学导论(2011-2012秋)作业解答\\复习材料\\ \vspace{-20pt} }

\author{{\Large 授课老师:王智慧}\\ \vspace{50pt}\\ 周吕文\\ \href{mailto:zhou.lv.wen@gmail.com}{zhou.lv.wen@gmail.com}\\ \vspace{50pt}}
\date{中国科学院力学研究所\\2011年12月05日}
%\tableofcontents
\maketitle 

\noindent{\small\textbf{说明}: 本文档是由本人的流导作业, 参考课程网上所给答案整理而成. 目录中标题为\textcolor{blue}{\bf 蓝色}的个人以为比较重要. 时间有限, 难免有误, 发现问题, 请电邮我. 祝各位考试顺利.}
\vspace{-1em}
\enlargethispage{2\baselineskip}
\tableofcontents
\setcounter{page}{0}
\newpage

%\includepdf[pages=1-]{cover}
%\setcounter{page}{1}
\invisiblesection{第一章{~}流体与流体的物理性质}
\problemlist{\bf 第一章{~}流体与流体的物理性质}
\invisiblesubsection{平板Couette流的启动}
\input{./problems/1-1.tex}
\invisiblesubsection{\textcolor{blue}{两肥皂泡合并}}
\newpage
\input{./problems/1-2.tex}
\invisiblesubsection{漂浮固体相互接近或远离}
\input{./problems/1-3.tex}



\newpage
\invisiblesection{第二章{~}流体运动学}
\problemlist{\bf 第二章{~}流体运动学}
\invisiblesubsection{\textcolor{blue}{已知速度求迹线}}
\input{./problems/2-1.tex}
\invisiblesubsection{\textcolor{blue}{已知速度求流线}}
\input{./problems/2-2.tex}
\invisiblesubsection{\textcolor{blue}{已知速度求流线, 迹线, 脉线}}
\input{./problems/2-3.tex}

\newpage
\invisiblesection{第三章{~}流体动力学基本方程}
\problemlist{\bf 第三章{~}流体动力学基本方程}
\invisiblesubsection{\textcolor{blue}{N-S方程组的假设条件}}
\input{./problems/3-1.tex}
\invisiblesubsection{推导不可压流体流动的柱坐标方程}
\input{./problems/3-2.tex}
\invisiblesubsection{推导不可压流体流动的球坐标方程}
\input{./problems/3-3.tex}

\newpage
\invisiblesection{第四章{~}流体静力学}
\problemlist{\bf 第四章{~}流体静力学}
\invisiblesubsection{\textcolor{blue}{加速容器中的液体倾角}}
\input{./problems/4-1.tex}
\invisiblesubsection{自引力形星的压力}
\input{./problems/4-2.tex}
\invisiblesubsection{\textcolor{blue}{L型管内液体加速度和压强}}
\input{./problems/4-3.tex}

\newpage
\invisiblesection{第五章{~}无粘流动的一般理论}
\problemlist{\bf 第五章{~}无粘流动的一般理论}
\invisiblesubsection{虹吸管的流量}
\input{./problems/5-1.tex}
\newpage
\invisiblesubsection{水箱小孔射流截面面积}
\input{./problems/5-2.tex}

\newpage
\invisiblesection{第六章{~}无粘不可压缩流体的无旋流动}
\problemlist{\bf 第六章{~}无粘不可压缩流体的无旋流动}
\invisiblesubsection{\textcolor{blue}{已知速度分布求速度势及环流量}}
\input{./problems/6-1.tex}
\invisiblesubsection{\textcolor{blue}{已知势函数求速度和流函数}}
\input{./problems/6-2.tex}
\invisiblesubsection{\textcolor{blue}{点源和点涡的叠加复速度势}}
\input{./problems/6-3.tex}
\invisiblesubsection{\textcolor{blue}{求均匀流场中半圆柱的拔力}}
\input{./problems/6-4.tex}
\invisiblesubsection{\textcolor{blue}{镜像法求复速度势}}
\input{./problems/6-5.tex}
\invisiblesubsection{\textcolor{blue}{张角的保角变换}}
\input{./problems/6-6.tex}
\invisiblesubsection{\textcolor{blue}{无限长狭缝的保角变换}}
\input{./problems/6-7.tex}
\invisiblesubsection{\textcolor{blue}{点涡偶极子的复速度势}}
\input{./problems/6-8.tex}
\newpage
\invisiblesubsection{蒙古包的拔力}
\input{./problems/6-9.tex}

\newpage
\appendix
\appendixpage
\lhead{附录A: 程序}
\section{程序}


%
%\begin{subappendices}
\subsection[问题1.1程序]{问题1.1程序: \textattachfile[color=red]{./matlab/ShearExperiment.m}{点击可下载ShearExperiment.m}}
\label{sec:ShearExperiment}

%~~\attachfile{./matlab/ShearExperiment.m}
\matlabscript{./matlab/ShearExperiment}{}

\subsection[问题2.3程序]{问题2.3程序: \textattachfile[color=red]{./matlab/StreamPathStreak.m}{点击可下载StreamPathStreak.m}}
\label{sec:StreamPathStreak}
%~~\attachfile{./matlab/StreamPathStreak.m}

\matlabscript{./matlab/StreamPathStreak}{}

\subsection[问题6.*程序]{问题6.*程序: \textattachfile[color=red]{./matlab/cPotentStream.m}{点击可下载cPotentStream.m}}
\label{sec:cPotentStream}
%~~\attachfile{./matlab/plotSimplyFluid.m}
\matlabscript{./matlab/cPotentStream}{}

%\subsection[问题6.7程序]{问题6.7程序: \textattachfile[color=red]{./matlab/SqrtCos.m}{点击可下载SqrtCos.m}}
%\label{sec:SqrtCos}
%~~\attachfile{./matlab/SqrtCos.m}
%\matlabscript{./matlab/SqrtCos}{}
%\end{subappendices}

\newpage
\section{试题}
\input{./problems/exam.tex}
\end{document} 
